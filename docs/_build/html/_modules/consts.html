<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>consts &mdash; CORMAT_py 0.0.13 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CORMAT_py 0.0.13 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for consts</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Class for reading in and storing kg1 constants,</span>
<span class="sd">signal names etc. </span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># ----------------------------</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;L. Kogan&quot;</span>
<span class="c1"># ----------------------------</span>

<span class="kn">import</span> <span class="nn">configparser</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<div class="viewcode-block" id="Consts"><a class="viewcode-back" href="../consts.html#consts.Consts">[docs]</a><span class="k">class</span> <span class="nc">Consts</span><span class="p">:</span>

    <span class="c1"># Fringe in terms of density for DCN &amp; MET</span>
    <span class="n">DFR_DCN</span> <span class="o">=</span> <span class="mf">1.14300e19</span>  <span class="c1"># phase-&gt;fj conversion factor for dcn</span>
    <span class="n">DFR_MET</span> <span class="o">=</span> <span class="mf">1.876136e19</span>  <span class="c1"># phase-&gt;fj conversion factor for met</span>

    <span class="c1"># Constants for converting DCN &amp; MET signals into density &amp; mirror movement</span>
    <span class="n">MAT11</span> <span class="o">=</span> <span class="mf">0.9088193e19</span>
    <span class="n">MAT12</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5536807e19</span>
    <span class="n">MAT21</span> <span class="o">=</span> <span class="mf">0.5754791e-4</span>
    <span class="n">MAT22</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.9445996e-4</span>

    <span class="c1"># Lateral channel correction matrices</span>
    <span class="n">CORR_NE</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.56e19</span><span class="p">,</span> <span class="mf">0.91e19</span><span class="p">,</span>  <span class="c1"># Density in m^2</span>
               <span class="mf">0.35e19</span><span class="p">,</span> <span class="mf">1.46e19</span><span class="p">,</span>
               <span class="mf">2.58e19</span><span class="p">,</span> <span class="mf">2.02e19</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">0.21e19</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.76e19</span><span class="p">,</span>
               <span class="mf">3.49e19</span><span class="p">,</span> <span class="mf">2.37e19</span><span class="p">,</span>
               <span class="mf">1.26e19</span><span class="p">,</span> <span class="mf">0.15e19</span><span class="p">,</span>
               <span class="mf">3.84e19</span><span class="p">,</span> <span class="mf">3.28e19</span><span class="p">,</span>
               <span class="mf">2.17e19</span><span class="p">,</span> <span class="mf">1.61e19</span><span class="p">])</span>

    <span class="n">CORR_VIB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">95.13e-6</span><span class="p">,</span> <span class="mf">57.7e-6</span><span class="p">,</span> <span class="o">-</span><span class="mf">37.4e-6</span><span class="p">,</span> <span class="mf">152.8e-6</span><span class="p">,</span> <span class="mf">343.8e-6</span><span class="p">,</span> <span class="mf">247.9e-6</span><span class="p">,</span> <span class="o">-</span><span class="mf">132.6e-6</span><span class="p">,</span>  <span class="c1"># Vib in m</span>
                <span class="o">-</span><span class="mf">227.7e-6</span><span class="p">,</span> <span class="mf">400.7e-6</span><span class="p">,</span> <span class="mf">210.5e-6</span><span class="p">,</span> <span class="mf">20.2e-6</span><span class="p">,</span> <span class="o">-</span><span class="mf">170.0e-6</span><span class="p">,</span> <span class="mf">363.3e-6</span><span class="p">,</span> <span class="mf">268.2e-6</span><span class="p">,</span>
                <span class="mf">77.9e-6</span><span class="p">,</span> <span class="o">-</span><span class="mf">17.2e-6</span><span class="p">])</span>

    <span class="n">FJ_DCN</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># Number fringes in DCN laser</span>
    <span class="n">FJ_MET</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># Number fringes in MET laser</span>

    <span class="c1"># jXb factors, for calculating estimated mirror movement due to JXB</span>
    <span class="n">JXB_FAC</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.6e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.5e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0e-5</span><span class="p">]</span>

    <span class="c1"># ------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_name</span><span class="p">,</span> <span class="n">code_version</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Init function</span>

<span class="sd">        :param config_name: name of the configuration file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># This is used to determine in which modules plots are displayed. (For debugging!)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">make_plots</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Version of the code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code_version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">code_version</span><span class="p">))</span>

        <span class="c1"># Important times</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_ip&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="s2">&quot;start_topip&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="s2">&quot;start_nbi&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="s2">&quot;end_nbi&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="s2">&quot;end_topip&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="s2">&quot;end_ip&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>

        <span class="c1"># Define constants to be read from file that have defaults</span>

        <span class="c1"># Valid CPRB (laser frequency) values and ranges for KG1C</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cprb_mid_dcn</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cprb_mid_met</span> <span class="o">=</span> <span class="mi">23</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cprb_range_dcn</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cprb_range_met</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="c1"># Min amplitude for KG1R</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_amp_kg1r</span> <span class="o">=</span> <span class="mi">11000</span>

        <span class="c1"># Min amplitude for KG1V</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_amp_kg1v</span> <span class="o">=</span> <span class="mf">0.21</span>

        <span class="c1"># For detection of fringe jumps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_fringe</span> <span class="o">=</span> <span class="mf">0.25</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_vib</span> <span class="o">=</span> <span class="mf">24.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fringe</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">npoints_long_time</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fringe_long_time</span> <span class="o">=</span> <span class="mf">0.8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_jumps</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># The maximum number of jumps the code will try to correct for any given channel</span>

        <span class="c1"># For filtering the signal with wavelets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wv_family</span> <span class="o">=</span> <span class="s1">&#39;db5&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wv_ncoeff_ne</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wv_ncoeff_vib</span> <span class="o">=</span> <span class="mi">300</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">temp_node</span> <span class="o">=</span> <span class="s2">&quot;VC/E-AVV-TMP&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry_filename</span> <span class="o">=</span> <span class="s2">&quot;kg1_chord_geom.txt&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;Automatic Corrections&quot;</span>

        <span class="c1"># Read in constants from file</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Parsing config file {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_name</span><span class="p">))</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">file_read</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">config_name</span><span class="p">)</span>


        <span class="c1">#read users</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">readusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="s2">&quot;readusers&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writeusers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="s2">&quot;writeusers&quot;</span><span class="p">)</span>

        <span class="c1">#KG1 signal to be validated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="s2">&quot;kg1v&quot;</span><span class="p">)</span>



        <span class="c1"># Other diagnostics/PPFs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg4_far</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg4_far&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg4_ell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg4_ell&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg4_xg_ell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg4_xg_ell&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg4r</span> <span class="o">=</span>   <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg4_lid&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg4_xg_elld</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg4_xg_elld&quot;</span><span class="p">)</span>

        <span class="c1">#kg1 real time</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">kg1rt</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1rt&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">elms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;elms&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pellets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;pellets&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hrts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;hrts&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lidar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;lidar&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hrts_ppf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;hrts_ppf&quot;</span><span class="p">)</span>

        <span class="c1"># kg1v PPFs</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_vib</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_vib&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_fj_dcn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_fj_dcn&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_fj_met</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_fj_met&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_bp_dcn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_bp_dcn&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_bp_met</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_bp_met&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_jxb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_jxb&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_ppf_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;kg1r_ppf_type&quot;</span><span class="p">)</span>

        <span class="c1"># JPF or PPF nodes not stored by channel number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">magnetics</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;magnetics&quot;</span><span class="p">][</span><span class="s2">&quot;ip&quot;</span><span class="p">]</span> <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">magnetics</span><span class="p">[</span><span class="s2">&quot;bt_coil_current_av&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;magnetics&quot;</span><span class="p">][</span><span class="s2">&quot;bt_coil_current_av&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">magnetics</span><span class="p">[</span><span class="s2">&quot;eddy_current&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;magnetics&quot;</span><span class="p">][</span><span class="s2">&quot;eddy_current&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nbi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_channumber_dict</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="s2">&quot;nbi&quot;</span><span class="p">)</span>

        <span class="c1"># Disruption node name &amp; time before and after disruption where data is not corrected</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disruption</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;disruption&quot;</span><span class="p">][</span><span class="s2">&quot;1&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dis_window</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;disruption&quot;</span><span class="p">][</span><span class="s2">&quot;window&quot;</span><span class="p">])</span>


        <span class="n">geometry</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temp_node</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;temp_jpf&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">temp_node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry_filename</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;geom_filename&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry_filename</span><span class="p">)</span>
        
        
        <span class="n">correction</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">correction</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
        <span class="c1">#self.kg1v_mode = self._get_node_channumber_dict(config, &quot;mode&quot;)</span>
    <span class="c1"># ------------------------</span>
    <span class="k">def</span> <span class="nf">_get_node_channumber_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">section</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        From config class, read in appropriate section.</span>
<span class="sd">        Put resulting variables into a dictionary, key is an integer.</span>

<span class="sd">        :param config: Instance of ConfigParser (with file already read in)</span>
<span class="sd">        :param section: The section to read in</span>
<span class="sd">        :return: Dictionary where key is an int, value is a string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
            <span class="n">node_dict</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">chan</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                <span class="n">node_dict</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">chan</span><span class="p">)]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">return</span> <span class="n">node_dict</span>
        <span class="k">except</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_phase_node_dcn"><a class="viewcode-back" href="../consts.html#consts.Consts.get_phase_node_dcn">[docs]</a>    <span class="k">def</span> <span class="nf">get_phase_node_dcn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the DCN phase, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1r, kg1c_ldraw, kg1c_ld, kg1c_ldcor or kg1v</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1r&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_phase_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ldraw_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ld_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ldcor_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1v&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1v_phase_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_phase_node_met"><a class="viewcode-back" href="../consts.html#consts.Consts.get_phase_node_met">[docs]</a>    <span class="k">def</span> <span class="nf">get_phase_node_met</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the MET phase, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1r, kg1c_ldraw, kg1c_ld, kg1c_ldcor or kg1v</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1r&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_phase_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ldraw_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ld_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_phase_ldcor_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1v&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1v_phase_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_amp_node_dcn"><a class="viewcode-back" href="../consts.html#consts.Consts.get_amp_node_dcn">[docs]</a>    <span class="k">def</span> <span class="nf">get_amp_node_dcn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the DCN amplitude signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1r, kg1c_ldraw, kg1c_ld, kg1c_ldcor or kg1v</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1r&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_amp_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_cprb_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1v&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1v_amp_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_amp_node_met"><a class="viewcode-back" href="../consts.html#consts.Consts.get_amp_node_met">[docs]</a>    <span class="k">def</span> <span class="nf">get_amp_node_met</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the MET amplitude signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1r, kg1c_ldraw, kg1c_ld, kg1c_ldcor or kg1v</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1r&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1r_amp_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_cprb_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1v&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1v_amp_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_sts_node_dcn"><a class="viewcode-back" href="../consts.html#consts.Consts.get_sts_node_dcn">[docs]</a>    <span class="k">def</span> <span class="nf">get_sts_node_dcn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the DCN KG1C STS signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1c_ldraw, kg1c_ld or kg1c_ldcor</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_sts_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_sts_node_met"><a class="viewcode-back" href="../consts.html#consts.Consts.get_sts_node_met">[docs]</a>    <span class="k">def</span> <span class="nf">get_sts_node_met</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the MET KG1C STS signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1c_ldraw, kg1c_ld or kg1c_ldcor</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_sts_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_fj_node_dcn"><a class="viewcode-back" href="../consts.html#consts.Consts.get_fj_node_dcn">[docs]</a>    <span class="k">def</span> <span class="nf">get_fj_node_dcn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the DCN KG1C FJ signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1c_ldraw, kg1c_ld or kg1c_ldcor</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_fj_dcn</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.get_fj_node_met"><a class="viewcode-back" href="../consts.html#consts.Consts.get_fj_node_met">[docs]</a>    <span class="k">def</span> <span class="nf">get_fj_node_met</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">,</span> <span class="n">sig_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the appropriate JPF node name for the MET KG1C FJ signal, given the signal type &amp; channel number</span>

<span class="sd">        :param chan: Channel number</span>
<span class="sd">        :param sig_type: Signal type: kg1c_ldraw, kg1c_ld or kg1c_ldcor</span>
<span class="sd">        :return: JPF node name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldraw&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ld&quot;</span>
                  <span class="ow">or</span> <span class="n">sig_type</span> <span class="o">==</span> <span class="s2">&quot;kg1c_ldcor&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kg1c_fj_met</span><span class="p">[</span><span class="n">chan</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span></div>

    <span class="c1"># ------------------------</span>
<div class="viewcode-block" id="Consts.set_time_windows"><a class="viewcode-back" href="../consts.html#consts.Consts.set_time_windows">[docs]</a>    <span class="k">def</span> <span class="nf">set_time_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip_times</span><span class="p">,</span> <span class="n">nbi_times</span><span class="p">,</span> <span class="n">flattop_times</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set time windows</span>

<span class="sd">        :param ip_times: [start ip, end ip]</span>
<span class="sd">        :param nbi_times: [start_nbi, end_nbi]</span>
<span class="sd">        :param flattop_times: [start_flat, end_flat]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;start_ip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;end_ip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_times</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;start_topip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flattop_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;end_topip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flattop_times</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;start_nbi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nbi_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_ip</span><span class="p">[</span><span class="s2">&quot;end_nbi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nbi_times</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Bruno Viola.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
    </div>

    

    
  </body>
</html>